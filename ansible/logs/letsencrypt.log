2020-07-05 18:33:36,084:DEBUG:certbot._internal.main:certbot version: 1.5.0
2020-07-05 18:33:36,084:DEBUG:certbot._internal.main:Arguments: ['-d', 'example.com', '-d', '*.melbeied.net', '--dns-route53', '--logs-dir', './logs/', '--config-dir', './config/', '--work-dir', './work/', '-m', 'melbeied@gmail.com', '--agree-tos', '--non-interactive', '--server', 'https://acme-v02.api.letsencrypt.org/directory']
2020-07-05 18:33:36,084:DEBUG:certbot._internal.main:Discovered plugins: PluginsRegistry(PluginEntryPoint#certbot-route53:auth,PluginEntryPoint#dns-route53,PluginEntryPoint#manual,PluginEntryPoint#null,PluginEntryPoint#standalone,PluginEntryPoint#webroot)
2020-07-05 18:33:36,137:DEBUG:certbot._internal.log:Root logging level set at 20
2020-07-05 18:33:36,138:INFO:certbot._internal.log:Saving debug log to /workspace/vagrant/aws/workspace/wamp-aws-terraform-ansible/ansible/logs/letsencrypt.log
2020-07-05 18:33:36,139:DEBUG:certbot._internal.plugins.selection:Requested authenticator dns-route53 and installer None
2020-07-05 18:33:36,145:DEBUG:botocore.hooks:Changing event name from creating-client-class.iot-data to creating-client-class.iot-data-plane
2020-07-05 18:33:36,147:DEBUG:botocore.hooks:Changing event name from before-call.apigateway to before-call.api-gateway
2020-07-05 18:33:36,148:DEBUG:botocore.hooks:Changing event name from request-created.machinelearning.Predict to request-created.machine-learning.Predict
2020-07-05 18:33:36,150:DEBUG:botocore.hooks:Changing event name from before-parameter-build.autoscaling.CreateLaunchConfiguration to before-parameter-build.auto-scaling.CreateLaunchConfiguration
2020-07-05 18:33:36,150:DEBUG:botocore.hooks:Changing event name from before-parameter-build.route53 to before-parameter-build.route-53
2020-07-05 18:33:36,150:DEBUG:botocore.hooks:Changing event name from request-created.cloudsearchdomain.Search to request-created.cloudsearch-domain.Search
2020-07-05 18:33:36,152:DEBUG:botocore.hooks:Changing event name from docs.*.autoscaling.CreateLaunchConfiguration.complete-section to docs.*.auto-scaling.CreateLaunchConfiguration.complete-section
2020-07-05 18:33:36,155:DEBUG:botocore.hooks:Changing event name from before-parameter-build.logs.CreateExportTask to before-parameter-build.cloudwatch-logs.CreateExportTask
2020-07-05 18:33:36,156:DEBUG:botocore.hooks:Changing event name from docs.*.logs.CreateExportTask.complete-section to docs.*.cloudwatch-logs.CreateExportTask.complete-section
2020-07-05 18:33:36,156:DEBUG:botocore.hooks:Changing event name from before-parameter-build.cloudsearchdomain.Search to before-parameter-build.cloudsearch-domain.Search
2020-07-05 18:33:36,156:DEBUG:botocore.hooks:Changing event name from docs.*.cloudsearchdomain.Search.complete-section to docs.*.cloudsearch-domain.Search.complete-section
2020-07-05 18:33:36,170:DEBUG:botocore.credentials:Looking for credentials via: env
2020-07-05 18:33:36,170:INFO:botocore.credentials:Found credentials in environment variables.
2020-07-05 18:33:36,172:DEBUG:botocore.loaders:Loading JSON file: /usr/local/lib/python3.7/site-packages/botocore/data/endpoints.json
2020-07-05 18:33:36,180:DEBUG:botocore.hooks:Event choose-service-name: calling handler <function handle_service_name_alias at 0x104f8e830>
2020-07-05 18:33:36,192:DEBUG:botocore.loaders:Loading JSON file: /usr/local/lib/python3.7/site-packages/botocore/data/route53/2013-04-01/service-2.json
2020-07-05 18:33:36,198:DEBUG:botocore.hooks:Event creating-client-class.route-53: calling handler <function add_generate_presigned_url at 0x104f5acb0>
2020-07-05 18:33:36,199:DEBUG:botocore.regions:Using partition endpoint for route53, us-east-1: aws-global
2020-07-05 18:33:36,399:DEBUG:botocore.endpoint:Setting route53 timeout as (60, 60)
2020-07-05 18:33:36,402:DEBUG:botocore.loaders:Loading JSON file: /usr/local/lib/python3.7/site-packages/botocore/data/_retry.json
2020-07-05 18:33:36,403:DEBUG:botocore.client:Registering retry handlers for service: route53
2020-07-05 18:33:36,404:DEBUG:certbot._internal.plugins.selection:Single candidate plugin: * dns-route53
Description: Obtain certificates using a DNS TXT record (if you are using AWS Route53 for DNS).
Interfaces: IAuthenticator, IPlugin
Entry point: dns-route53 = certbot_dns_route53._internal.dns_route53:Authenticator
Initialized: <certbot_dns_route53._internal.dns_route53.Authenticator object at 0x104a12090>
Prep: True
2020-07-05 18:33:36,404:DEBUG:certbot._internal.plugins.selection:Selected authenticator <certbot_dns_route53._internal.dns_route53.Authenticator object at 0x104a12090> and installer None
2020-07-05 18:33:36,405:INFO:certbot._internal.plugins.selection:Plugins selected: Authenticator dns-route53, Installer None
2020-07-05 18:33:36,667:DEBUG:acme.client:Sending GET request to https://acme-v02.api.letsencrypt.org/directory.
2020-07-05 18:33:37,759:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): acme-v02.api.letsencrypt.org:443
2020-07-05 18:33:38,809:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "GET /directory HTTP/1.1" 200 658
2020-07-05 18:33:38,810:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Sun, 05 Jul 2020 17:33:38 GMT
Content-Type: application/json
Content-Length: 658
Connection: keep-alive
Cache-Control: public, max-age=0, no-cache
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "GGE09rCR07o": "https://community.letsencrypt.org/t/adding-random-entries-to-the-directory/33417",
  "keyChange": "https://acme-v02.api.letsencrypt.org/acme/key-change",
  "meta": {
    "caaIdentities": [
      "letsencrypt.org"
    ],
    "termsOfService": "https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf",
    "website": "https://letsencrypt.org"
  },
  "newAccount": "https://acme-v02.api.letsencrypt.org/acme/new-acct",
  "newNonce": "https://acme-v02.api.letsencrypt.org/acme/new-nonce",
  "newOrder": "https://acme-v02.api.letsencrypt.org/acme/new-order",
  "revokeCert": "https://acme-v02.api.letsencrypt.org/acme/revoke-cert"
}
2020-07-05 18:33:38,811:DEBUG:acme.client:Requesting fresh nonce
2020-07-05 18:33:38,811:DEBUG:acme.client:Sending HEAD request to https://acme-v02.api.letsencrypt.org/acme/new-nonce.
2020-07-05 18:33:39,041:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "HEAD /acme/new-nonce HTTP/1.1" 200 0
2020-07-05 18:33:39,042:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Sun, 05 Jul 2020 17:33:38 GMT
Connection: keep-alive
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 000148esgBPllHmIGilL2z1vSCrf9QZmq5vE-xYIUpIYPGQ
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800


2020-07-05 18:33:39,042:DEBUG:acme.client:Storing nonce: 000148esgBPllHmIGilL2z1vSCrf9QZmq5vE-xYIUpIYPGQ
2020-07-05 18:33:39,043:DEBUG:acme.client:JWS payload:
b'{\n  "contact": [\n    "mailto:melbeied@gmail.com"\n  ],\n  "termsOfServiceAgreed": true\n}'
2020-07-05 18:33:39,051:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-acct:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAiandrIjogeyJuIjogIng5WTEtbENFNkV2UDZrQ1Q0VHUtdWg4RHlkLW81ZFdrTVpWRE9iNTZZLTZrTjRQZC1RaHE3OXBCOFVveGI5b2NsdFo4MlZ2RGdLUXpvWm9qeWUwTVZjbEYyNUs1Ml94b3Y1aDRXSDdlU0k0RE0xOGdXSVBjTDBfcXRaczVnNEJzRkJ6cVhQZnlmTm9oamdNU1g5cmpXbVRMd0N4VXFNRGRLaW9pY1h2NHFHMlFMdEMxX01HZEZlTjlrcWdMOXhzNEphR0ZBS0RpcTA0NlhuR0huRmllaHdRb0pESkVuSG5fVVotZVNrMjJ3b2EzZmVCeTBkTjhRd20zMTlhVFJRTEF1OGVSSTFoazFBd0h4UzRraFpOUXRKNmg4V2MyRmdUOFRKc1Q1d3M0NVh4XzZaWWM4a0ZxRWVrWWVKMEZRMHpsdWtJT3NxU1VwN2lNRXVrU044VGNfdyIsICJlIjogIkFRQUIiLCAia3R5IjogIlJTQSJ9LCAibm9uY2UiOiAiMDAwMTQ4ZXNnQlBsbEhtSUdpbEwyejF2U0NyZjlRWm1xNXZFLXhZSVVwSVlQR1EiLCAidXJsIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL25ldy1hY2N0In0",
  "signature": "J9muG4cgaTPFW5EkN_nZwHo_7D00w9w6HiOK01M7kMo9WwTWLwg2AZrPAAhGWvMA2RfMii8Jw2ydS9vpF0HmRPDRTpuOR24U2_4BexLJJEvdJl9ciq7f2IU0AS7_mOse_4_wIDoTtWRb7xQN4blaK0yiiZo8p4MaLoKHzZGnks7e0f6JsGIpLfFu_DLgU-ztMOEfz2ieh9R85E5bLqyj9NOg2IRfm35iaRoS5TE4C67JwUbmjcwhqyr1PWJlQv4AQvZRcaDaaiOSdPgImsa2LGgz1nuDzer3MHlNv5_66qfrfYieOHnm50qqmINKqeN40KdG2I8Kh8svPO0yeWMwYw",
  "payload": "ewogICJjb250YWN0IjogWwogICAgIm1haWx0bzptZWxiZWllZEBnbWFpbC5jb20iCiAgXSwKICAidGVybXNPZlNlcnZpY2VBZ3JlZWQiOiB0cnVlCn0"
}
2020-07-05 18:33:39,290:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/new-acct HTTP/1.1" 201 562
2020-07-05 18:33:39,291:DEBUG:acme.client:Received response:
HTTP 201
Server: nginx
Date: Sun, 05 Jul 2020 17:33:39 GMT
Content-Type: application/json
Content-Length: 562
Connection: keep-alive
Boulder-Requester: 90572614
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index", <https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf>;rel="terms-of-service"
Location: https://acme-v02.api.letsencrypt.org/acme/acct/90572614
Replay-Nonce: 0002YW_i9OOfpFQjDKs9E9oMsNvqYx2KiUDo1xl5wvSBFos
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "key": {
    "kty": "RSA",
    "n": "x9Y1-lCE6EvP6kCT4Tu-uh8Dyd-o5dWkMZVDOb56Y-6kN4Pd-Qhq79pB8Uoxb9ocltZ82VvDgKQzoZojye0MVclF25K52_xov5h4WH7eSI4DM18gWIPcL0_qtZs5g4BsFBzqXPfyfNohjgMSX9rjWmTLwCxUqMDdKioicXv4qG2QLtC1_MGdFeN9kqgL9xs4JaGFAKDiq046XnGHnFiehwQoJDJEnHn_UZ-eSk22woa3feBy0dN8Qwm319aTRQLAu8eRI1hk1AwHxS4khZNQtJ6h8Wc2FgT8TJsT5ws45Xx_6ZYc8kFqEekYeJ0FQ0zlukIOsqSUp7iMEukSN8Tc_w",
    "e": "AQAB"
  },
  "contact": [
    "mailto:melbeied@gmail.com"
  ],
  "initialIp": "196.127.12.235",
  "createdAt": "2020-07-05T17:33:39.199301103Z",
  "status": "valid"
}
2020-07-05 18:33:39,291:DEBUG:acme.client:Storing nonce: 0002YW_i9OOfpFQjDKs9E9oMsNvqYx2KiUDo1xl5wvSBFos
2020-07-05 18:33:39,306:DEBUG:certbot._internal.reporter:Reporting to user: Your account credentials have been saved in your Certbot configuration directory at /workspace/vagrant/aws/workspace/wamp-aws-terraform-ansible/ansible/config. You should make a secure backup of this folder now. This configuration directory will also contain certificates and private keys obtained by Certbot so making regular backups of this folder is ideal.
2020-07-05 18:33:39,311:DEBUG:certbot._internal.main:Picked account: <Account(RegistrationResource(body=Registration(key=JWKRSA(key=<ComparableRSAKey(<cryptography.hazmat.backends.openssl.rsa._RSAPublicKey object at 0x105e63890>)>), contact=('mailto:melbeied@gmail.com',), agreement=None, status='valid', terms_of_service_agreed=None, only_return_existing=None, external_account_binding=None), uri='https://acme-v02.api.letsencrypt.org/acme/acct/90572614', new_authzr_uri=None, terms_of_service='https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf'), b080b4fd20fb6734c49648c0948e755c, Meta(creation_dt=datetime.datetime(2020, 7, 5, 17, 33, 39, tzinfo=<UTC>), creation_host='163.43.168.192.in-addr.arpa'))>
2020-07-05 18:33:39,312:INFO:certbot._internal.main:Obtaining a new certificate
2020-07-05 18:33:39,355:DEBUG:certbot.crypto_util:Generating key (2048 bits): /workspace/vagrant/aws/workspace/wamp-aws-terraform-ansible/ansible/config/keys/0000_key-certbot.pem
2020-07-05 18:33:39,360:DEBUG:certbot.crypto_util:Creating CSR: /workspace/vagrant/aws/workspace/wamp-aws-terraform-ansible/ansible/config/csr/0000_csr-certbot.pem
2020-07-05 18:33:39,362:DEBUG:acme.client:JWS payload:
b'{\n  "identifiers": [\n    {\n      "type": "dns",\n      "value": "example.com"\n    },\n    {\n      "type": "dns",\n      "value": "*.melbeied.net"\n    }\n  ]\n}'
2020-07-05 18:33:39,364:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/new-order:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvOTA1NzI2MTQiLCAibm9uY2UiOiAiMDAwMllXX2k5T09mcEZRakRLczlFOW9Nc052cVl4MktpVURvMXhsNXd2U0JGb3MiLCAidXJsIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL25ldy1vcmRlciJ9",
  "signature": "n3oVpDvM3vuKEeDcVs8g1vBU0Ed51THi2zDekbvDh3QMNlcy9NvuFJF1UjnBVxqauP8GKipXi8rsrTUpWYpETTguFCjF0dK9e6lvImDNchgqwfefcrIb4CZLAVJI8w-reH0dWEIvio1Lm-7VSY8JTbuzIZDZ-q8piqpAJb8H9atOrDmVnwKqartKr5WM8mZo7ijktdzeC7TBRCh4J_btq0MVlyxJEr84B_Aml3sAXeA0m349YwibB--kRV4-VH1X48stv4u7YKgd46u_Ewz9f8P-R-rkysIyVDeWUukDG5MYOKFL3Amtc4PkgDNvF6m4kq3yEiYxV2nxYsHHuKaAUg",
  "payload": "ewogICJpZGVudGlmaWVycyI6IFsKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogImV4YW1wbGUuY29tIgogICAgfSwKICAgIHsKICAgICAgInR5cGUiOiAiZG5zIiwKICAgICAgInZhbHVlIjogIioubWVsYmVpZWQubmV0IgogICAgfQogIF0KfQ"
}
2020-07-05 18:33:39,743:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/new-order HTTP/1.1" 201 476
2020-07-05 18:33:39,744:DEBUG:acme.client:Received response:
HTTP 201
Server: nginx
Date: Sun, 05 Jul 2020 17:33:39 GMT
Content-Type: application/json
Content-Length: 476
Connection: keep-alive
Boulder-Requester: 90572614
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Location: https://acme-v02.api.letsencrypt.org/acme/order/90572614/4068573771
Replay-Nonce: 0002U5g9CT-XA88zUQAaCRoGNWXGDuVbmvAs1_UHo1li1KI
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "status": "pending",
  "expires": "2020-07-12T17:33:39.521395029Z",
  "identifiers": [
    {
      "type": "dns",
      "value": "*.melbeied.net"
    },
    {
      "type": "dns",
      "value": "example.com"
    }
  ],
  "authorizations": [
    "https://acme-v02.api.letsencrypt.org/acme/authz-v3/5684006521",
    "https://acme-v02.api.letsencrypt.org/acme/authz-v3/5684006522"
  ],
  "finalize": "https://acme-v02.api.letsencrypt.org/acme/finalize/90572614/4068573771"
}
2020-07-05 18:33:39,744:DEBUG:acme.client:Storing nonce: 0002U5g9CT-XA88zUQAaCRoGNWXGDuVbmvAs1_UHo1li1KI
2020-07-05 18:33:39,745:DEBUG:acme.client:JWS payload:
b''
2020-07-05 18:33:39,748:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/5684006521:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvOTA1NzI2MTQiLCAibm9uY2UiOiAiMDAwMlU1ZzlDVC1YQTg4elVRQWFDUm9HTldYR0R1VmJtdkFzMV9VSG8xbGkxS0kiLCAidXJsIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2F1dGh6LXYzLzU2ODQwMDY1MjEifQ",
  "signature": "lsjce4whRtPEPm54ZknVe0dIaETuCtYjdip6Gg-fZ95T2JFzrKV2zhwQ3gnL-3doDgPBPBlXlwfpZTYArfrEr74uqwZBd-7d7fASN6kd3gAmhFTJO34ZoUC-QuRuPkW4T56e1sE_61rnUokZyY17rdnRb-cvGghYXNLAVkZYTT7sK2zPXaDS68Q0k2O6KgGv3w44Z9PEkzoeChQCMkSmebQTK-7fSBR_qwc7I9oZeiSc87kvFnI3HwO5um5ct3wQz1J38SeXoX95JZJwNJ-boCrSHOomZpttdcC8i4l-NzjV5D5t2P_Rn5jzXjDI4SWmRaLaCwS0F3qF5ukjX5awgw",
  "payload": ""
}
2020-07-05 18:33:39,979:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/authz-v3/5684006521 HTTP/1.1" 200 384
2020-07-05 18:33:39,980:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Sun, 05 Jul 2020 17:33:39 GMT
Content-Type: application/json
Content-Length: 384
Connection: keep-alive
Boulder-Requester: 90572614
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 0002jDLGRgXyLmgra6Ih5EhWJa8ve6Hm5Qyj-RXJOPMkeFs
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "identifier": {
    "type": "dns",
    "value": "melbeied.net"
  },
  "status": "pending",
  "expires": "2020-07-12T17:33:39Z",
  "challenges": [
    {
      "type": "dns-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/5684006521/3Rrnxg",
      "token": "6lqLC_aFsONzTGvTes-RSu4KdcAhaHC7bR4LChsX6DU"
    }
  ],
  "wildcard": true
}
2020-07-05 18:33:39,981:DEBUG:acme.client:Storing nonce: 0002jDLGRgXyLmgra6Ih5EhWJa8ve6Hm5Qyj-RXJOPMkeFs
2020-07-05 18:33:39,981:DEBUG:acme.client:JWS payload:
b''
2020-07-05 18:33:39,984:DEBUG:acme.client:Sending POST request to https://acme-v02.api.letsencrypt.org/acme/authz-v3/5684006522:
{
  "protected": "eyJhbGciOiAiUlMyNTYiLCAia2lkIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2FjY3QvOTA1NzI2MTQiLCAibm9uY2UiOiAiMDAwMmpETEdSZ1h5TG1ncmE2SWg1RWhXSmE4dmU2SG01UXlqLVJYSk9QTWtlRnMiLCAidXJsIjogImh0dHBzOi8vYWNtZS12MDIuYXBpLmxldHNlbmNyeXB0Lm9yZy9hY21lL2F1dGh6LXYzLzU2ODQwMDY1MjIifQ",
  "signature": "eAsljm5WhiOau97hkbBQYc9lce2M59wukOwGPuQO4HBzvruFGFtnvaL5qWBixxFa7wVFbaCMjYtYBtTWlEnzYfVXP7Y7YPMPxPr3d-Ou-fnZ-MU9HuGCc6aCl24A5D9qlbrEJphv8_RFAlwRfG1lN-d82mGfDIsFHMR1u3Q6MsruxopNOKl2um5JOgqgxlVBlt5FTyzFimaKYth332gXbX3K9ynst_BEZLycueC1wisOuBzzZgvDbjTXnG4_ErBPTNs58S404ep82chPh8tNanIOdRXfFCSnmTQMQPHnwNH4ifxpf3efYHhSP1bcx5nSsu1HakdaaBZuWmyC3ACxxQ",
  "payload": ""
}
2020-07-05 18:33:40,209:DEBUG:urllib3.connectionpool:https://acme-v02.api.letsencrypt.org:443 "POST /acme/authz-v3/5684006522 HTTP/1.1" 200 789
2020-07-05 18:33:40,209:DEBUG:acme.client:Received response:
HTTP 200
Server: nginx
Date: Sun, 05 Jul 2020 17:33:40 GMT
Content-Type: application/json
Content-Length: 789
Connection: keep-alive
Boulder-Requester: 90572614
Cache-Control: public, max-age=0, no-cache
Link: <https://acme-v02.api.letsencrypt.org/directory>;rel="index"
Replay-Nonce: 0002zu2GWT5vRFwtIW_40257Nh6HPG-N_DSGvSBI-Xbn6Iw
X-Frame-Options: DENY
Strict-Transport-Security: max-age=604800

{
  "identifier": {
    "type": "dns",
    "value": "example.com"
  },
  "status": "pending",
  "expires": "2020-07-12T17:33:39Z",
  "challenges": [
    {
      "type": "http-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/5684006522/Th6YBw",
      "token": "X2wgyjpCKYA4Rd8ksxn-a4wTK95D1OCeUARrpqCKjUA"
    },
    {
      "type": "dns-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/5684006522/B9d7EA",
      "token": "X2wgyjpCKYA4Rd8ksxn-a4wTK95D1OCeUARrpqCKjUA"
    },
    {
      "type": "tls-alpn-01",
      "status": "pending",
      "url": "https://acme-v02.api.letsencrypt.org/acme/chall-v3/5684006522/361cRQ",
      "token": "X2wgyjpCKYA4Rd8ksxn-a4wTK95D1OCeUARrpqCKjUA"
    }
  ]
}
2020-07-05 18:33:40,210:DEBUG:acme.client:Storing nonce: 0002zu2GWT5vRFwtIW_40257Nh6HPG-N_DSGvSBI-Xbn6Iw
2020-07-05 18:33:40,211:INFO:certbot._internal.auth_handler:Performing the following challenges:
2020-07-05 18:33:40,211:INFO:certbot._internal.auth_handler:dns-01 challenge for melbeied.net
2020-07-05 18:33:40,211:INFO:certbot._internal.auth_handler:dns-01 challenge for example.com
2020-07-05 18:33:40,226:DEBUG:botocore.loaders:Loading JSON file: /usr/local/lib/python3.7/site-packages/botocore/data/route53/2013-04-01/paginators-1.json
2020-07-05 18:33:40,227:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ListHostedZones: calling handler <function fix_route53_ids at 0x104fafb90>
2020-07-05 18:33:40,228:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ListHostedZones: calling handler <function generate_idempotent_uuid at 0x104f93cb0>
2020-07-05 18:33:40,228:DEBUG:botocore.hooks:Event before-call.route-53.ListHostedZones: calling handler <function inject_api_version_header_if_needed at 0x104fb0560>
2020-07-05 18:33:40,229:DEBUG:botocore.endpoint:Making request for OperationModel(name=ListHostedZones) with params: {'url_path': '/2013-04-01/hostedzone', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16'}, 'body': b'', 'url': 'https://route53.amazonaws.com/2013-04-01/hostedzone', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x105daead0>, 'has_streaming_input': False, 'auth_type': None}}
2020-07-05 18:33:40,229:DEBUG:botocore.hooks:Event request-created.route-53.ListHostedZones: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105daeb10>>
2020-07-05 18:33:40,230:DEBUG:botocore.hooks:Event choose-signer.route-53.ListHostedZones: calling handler <function set_operation_specific_signer at 0x104f93b90>
2020-07-05 18:33:40,230:DEBUG:botocore.auth:Calculating signature using v4 auth.
2020-07-05 18:33:40,231:DEBUG:botocore.auth:CanonicalRequest:
GET
/2013-04-01/hostedzone

host:route53.amazonaws.com
x-amz-date:20200705T173340Z

host;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
2020-07-05 18:33:40,231:DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20200705T173340Z
20200705/us-east-1/route53/aws4_request
147019eeebc9265ce7d3b3eb06d00e7d47d9356f3d75fcc5992d600c546d62f0
2020-07-05 18:33:40,231:DEBUG:botocore.auth:Signature:
8c21835008633f97984c05bcff813bcb50571ccac77cb6602f5acf28d53d4c90
2020-07-05 18:33:40,231:DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://route53.amazonaws.com/2013-04-01/hostedzone, headers={'User-Agent': b'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16', 'X-Amz-Date': b'20200705T173340Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAYXB27GE2KIJWW5S7/20200705/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-date, Signature=8c21835008633f97984c05bcff813bcb50571ccac77cb6602f5acf28d53d4c90'}>
2020-07-05 18:33:40,233:DEBUG:urllib3.connectionpool:Starting new HTTPS connection (1): route53.amazonaws.com:443
2020-07-05 18:33:41,063:DEBUG:urllib3.connectionpool:https://route53.amazonaws.com:443 "GET /2013-04-01/hostedzone HTTP/1.1" 200 491
2020-07-05 18:33:41,064:DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '6dff0e20-3f06-4f95-bf16-c07b03b017e7', 'Content-Type': 'text/xml', 'Content-Length': '491', 'Date': 'Sun, 05 Jul 2020 17:33:40 GMT'}
2020-07-05 18:33:41,064:DEBUG:botocore.parsers:Response body:
b'<?xml version="1.0"?>\n<ListHostedZonesResponse xmlns="https://route53.amazonaws.com/doc/2013-04-01/"><HostedZones><HostedZone><Id>/hostedzone/Z036584749L3Y5TIJZSE</Id><Name>melbeied.net.</Name><CallerReference>D280B345-FED2-5355-961B-ADB70204EE06</CallerReference><Config><Comment></Comment><PrivateZone>false</PrivateZone></Config><ResourceRecordSetCount>3</ResourceRecordSetCount></HostedZone></HostedZones><IsTruncated>false</IsTruncated><MaxItems>100</MaxItems></ListHostedZonesResponse>'
2020-07-05 18:33:41,065:DEBUG:botocore.hooks:Event needs-retry.route-53.ListHostedZones: calling handler <botocore.retryhandler.RetryHandler object at 0x105daedd0>
2020-07-05 18:33:41,065:DEBUG:botocore.retryhandler:No retry needed.
2020-07-05 18:33:41,066:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ChangeResourceRecordSets: calling handler <function fix_route53_ids at 0x104fafb90>
2020-07-05 18:33:41,066:DEBUG:botocore.handlers:HostedZoneId /hostedzone/Z036584749L3Y5TIJZSE -> Z036584749L3Y5TIJZSE
2020-07-05 18:33:41,066:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ChangeResourceRecordSets: calling handler <function generate_idempotent_uuid at 0x104f93cb0>
2020-07-05 18:33:41,067:DEBUG:botocore.hooks:Event before-call.route-53.ChangeResourceRecordSets: calling handler <function inject_api_version_header_if_needed at 0x104fb0560>
2020-07-05 18:33:41,067:DEBUG:botocore.endpoint:Making request for OperationModel(name=ChangeResourceRecordSets) with params: {'url_path': '/2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/', 'query_string': {}, 'method': 'POST', 'headers': {'User-Agent': 'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16'}, 'body': b'<ChangeResourceRecordSetsRequest xmlns="https://route53.amazonaws.com/doc/2013-04-01/"><ChangeBatch><Comment>certbot-dns-route53 certificate validation UPSERT</Comment><Changes><Change><Action>UPSERT</Action><ResourceRecordSet><Name>_acme-challenge.melbeied.net</Name><Type>TXT</Type><TTL>10</TTL><ResourceRecords><ResourceRecord><Value>"9qKNvzHo4fzSaaQMMFEmb-m3CJ-RqcPR0th335SNfhk"</Value></ResourceRecord></ResourceRecords></ResourceRecordSet></Change></Changes></ChangeBatch></ChangeResourceRecordSetsRequest>', 'url': 'https://route53.amazonaws.com/2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x105daead0>, 'has_streaming_input': False, 'auth_type': None}}
2020-07-05 18:33:41,068:DEBUG:botocore.hooks:Event request-created.route-53.ChangeResourceRecordSets: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105daeb10>>
2020-07-05 18:33:41,068:DEBUG:botocore.hooks:Event choose-signer.route-53.ChangeResourceRecordSets: calling handler <function set_operation_specific_signer at 0x104f93b90>
2020-07-05 18:33:41,068:DEBUG:botocore.auth:Calculating signature using v4 auth.
2020-07-05 18:33:41,068:DEBUG:botocore.auth:CanonicalRequest:
POST
/2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/

host:route53.amazonaws.com
x-amz-date:20200705T173341Z

host;x-amz-date
ae71f424723f730c51704611488ca818e522ff0e4584d7b80e5d8acf7749f01f
2020-07-05 18:33:41,068:DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20200705T173341Z
20200705/us-east-1/route53/aws4_request
316e6dcf50bb21e50f0090a083dfc95382a88c019c82847e3a67c650ecf0a2ea
2020-07-05 18:33:41,069:DEBUG:botocore.auth:Signature:
840164ab48d3b776aa5872df91b4e7cc40f42d38bf0c4177ddfb4603b7f5b012
2020-07-05 18:33:41,069:DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://route53.amazonaws.com/2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/, headers={'User-Agent': b'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16', 'X-Amz-Date': b'20200705T173341Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAYXB27GE2KIJWW5S7/20200705/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-date, Signature=840164ab48d3b776aa5872df91b4e7cc40f42d38bf0c4177ddfb4603b7f5b012', 'Content-Length': '512'}>
2020-07-05 18:33:41,623:DEBUG:urllib3.connectionpool:https://route53.amazonaws.com:443 "POST /2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/ HTTP/1.1" 200 351
2020-07-05 18:33:41,624:DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'c0789ae6-6735-4ac6-a6f2-0674708f5a61', 'Content-Type': 'text/xml', 'Content-Length': '351', 'Date': 'Sun, 05 Jul 2020 17:33:41 GMT'}
2020-07-05 18:33:41,624:DEBUG:botocore.parsers:Response body:
b'<?xml version="1.0"?>\n<ChangeResourceRecordSetsResponse xmlns="https://route53.amazonaws.com/doc/2013-04-01/"><ChangeInfo><Id>/change/C040767019MH82K37CSBI</Id><Status>PENDING</Status><SubmittedAt>2020-07-05T17:33:41.431Z</SubmittedAt><Comment>certbot-dns-route53 certificate validation UPSERT</Comment></ChangeInfo></ChangeResourceRecordSetsResponse>'
2020-07-05 18:33:41,629:DEBUG:botocore.hooks:Event needs-retry.route-53.ChangeResourceRecordSets: calling handler <botocore.retryhandler.RetryHandler object at 0x105daedd0>
2020-07-05 18:33:41,630:DEBUG:botocore.retryhandler:No retry needed.
2020-07-05 18:33:41,634:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ListHostedZones: calling handler <function fix_route53_ids at 0x104fafb90>
2020-07-05 18:33:41,634:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ListHostedZones: calling handler <function generate_idempotent_uuid at 0x104f93cb0>
2020-07-05 18:33:41,634:DEBUG:botocore.hooks:Event before-call.route-53.ListHostedZones: calling handler <function inject_api_version_header_if_needed at 0x104fb0560>
2020-07-05 18:33:41,635:DEBUG:botocore.endpoint:Making request for OperationModel(name=ListHostedZones) with params: {'url_path': '/2013-04-01/hostedzone', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16'}, 'body': b'', 'url': 'https://route53.amazonaws.com/2013-04-01/hostedzone', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x105daead0>, 'has_streaming_input': False, 'auth_type': None}}
2020-07-05 18:33:41,635:DEBUG:botocore.hooks:Event request-created.route-53.ListHostedZones: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105daeb10>>
2020-07-05 18:33:41,635:DEBUG:botocore.hooks:Event choose-signer.route-53.ListHostedZones: calling handler <function set_operation_specific_signer at 0x104f93b90>
2020-07-05 18:33:41,636:DEBUG:botocore.auth:Calculating signature using v4 auth.
2020-07-05 18:33:41,636:DEBUG:botocore.auth:CanonicalRequest:
GET
/2013-04-01/hostedzone

host:route53.amazonaws.com
x-amz-date:20200705T173341Z

host;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
2020-07-05 18:33:41,636:DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20200705T173341Z
20200705/us-east-1/route53/aws4_request
501fd704456516a3c5fe88c57dc24027c0e52f95d68d8141e75d3e91fad47a71
2020-07-05 18:33:41,636:DEBUG:botocore.auth:Signature:
37b2fd33fe9b84b951dda26023712b416d809b2a35a96fcfdfef5a1131a1e86b
2020-07-05 18:33:41,637:DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://route53.amazonaws.com/2013-04-01/hostedzone, headers={'User-Agent': b'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16', 'X-Amz-Date': b'20200705T173341Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAYXB27GE2KIJWW5S7/20200705/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-date, Signature=37b2fd33fe9b84b951dda26023712b416d809b2a35a96fcfdfef5a1131a1e86b'}>
2020-07-05 18:33:41,888:DEBUG:urllib3.connectionpool:https://route53.amazonaws.com:443 "GET /2013-04-01/hostedzone HTTP/1.1" 200 491
2020-07-05 18:33:41,894:DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '3d6ab9d3-c874-42a4-aae4-497e040aec1a', 'Content-Type': 'text/xml', 'Content-Length': '491', 'Date': 'Sun, 05 Jul 2020 17:33:41 GMT'}
2020-07-05 18:33:41,894:DEBUG:botocore.parsers:Response body:
b'<?xml version="1.0"?>\n<ListHostedZonesResponse xmlns="https://route53.amazonaws.com/doc/2013-04-01/"><HostedZones><HostedZone><Id>/hostedzone/Z036584749L3Y5TIJZSE</Id><Name>melbeied.net.</Name><CallerReference>D280B345-FED2-5355-961B-ADB70204EE06</CallerReference><Config><Comment></Comment><PrivateZone>false</PrivateZone></Config><ResourceRecordSetCount>3</ResourceRecordSetCount></HostedZone></HostedZones><IsTruncated>false</IsTruncated><MaxItems>100</MaxItems></ListHostedZonesResponse>'
2020-07-05 18:33:41,895:DEBUG:botocore.hooks:Event needs-retry.route-53.ListHostedZones: calling handler <botocore.retryhandler.RetryHandler object at 0x105daedd0>
2020-07-05 18:33:41,895:DEBUG:botocore.retryhandler:No retry needed.
2020-07-05 18:33:41,898:DEBUG:certbot._internal.error_handler:Encountered exception:
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/auth_handler.py", line 70, in handle_authorizations
    resps = self.auth.perform(achalls)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 61, in perform
    for achall in achalls
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 61, in <listcomp>
    for achall in achalls
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 108, in _change_txt_record
    zone_id = self._find_zone_id_for_domain(validation_domain_name)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 97, in _find_zone_id_for_domain
    "Unable to find a Route53 hosted zone for {0}".format(domain)
certbot.errors.PluginError: Unable to find a Route53 hosted zone for _acme-challenge.example.com

2020-07-05 18:33:41,899:DEBUG:certbot._internal.error_handler:Calling registered functions
2020-07-05 18:33:41,899:INFO:certbot._internal.auth_handler:Cleaning up challenges
2020-07-05 18:33:41,903:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ListHostedZones: calling handler <function fix_route53_ids at 0x104fafb90>
2020-07-05 18:33:41,903:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ListHostedZones: calling handler <function generate_idempotent_uuid at 0x104f93cb0>
2020-07-05 18:33:41,903:DEBUG:botocore.hooks:Event before-call.route-53.ListHostedZones: calling handler <function inject_api_version_header_if_needed at 0x104fb0560>
2020-07-05 18:33:41,903:DEBUG:botocore.endpoint:Making request for OperationModel(name=ListHostedZones) with params: {'url_path': '/2013-04-01/hostedzone', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16'}, 'body': b'', 'url': 'https://route53.amazonaws.com/2013-04-01/hostedzone', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x105daead0>, 'has_streaming_input': False, 'auth_type': None}}
2020-07-05 18:33:41,904:DEBUG:botocore.hooks:Event request-created.route-53.ListHostedZones: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105daeb10>>
2020-07-05 18:33:41,904:DEBUG:botocore.hooks:Event choose-signer.route-53.ListHostedZones: calling handler <function set_operation_specific_signer at 0x104f93b90>
2020-07-05 18:33:41,905:DEBUG:botocore.auth:Calculating signature using v4 auth.
2020-07-05 18:33:41,905:DEBUG:botocore.auth:CanonicalRequest:
GET
/2013-04-01/hostedzone

host:route53.amazonaws.com
x-amz-date:20200705T173341Z

host;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
2020-07-05 18:33:41,905:DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20200705T173341Z
20200705/us-east-1/route53/aws4_request
501fd704456516a3c5fe88c57dc24027c0e52f95d68d8141e75d3e91fad47a71
2020-07-05 18:33:41,905:DEBUG:botocore.auth:Signature:
37b2fd33fe9b84b951dda26023712b416d809b2a35a96fcfdfef5a1131a1e86b
2020-07-05 18:33:41,905:DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://route53.amazonaws.com/2013-04-01/hostedzone, headers={'User-Agent': b'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16', 'X-Amz-Date': b'20200705T173341Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAYXB27GE2KIJWW5S7/20200705/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-date, Signature=37b2fd33fe9b84b951dda26023712b416d809b2a35a96fcfdfef5a1131a1e86b'}>
2020-07-05 18:33:42,157:DEBUG:urllib3.connectionpool:https://route53.amazonaws.com:443 "GET /2013-04-01/hostedzone HTTP/1.1" 200 491
2020-07-05 18:33:42,157:DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'd7376f45-365c-460b-9599-5496485fe233', 'Content-Type': 'text/xml', 'Content-Length': '491', 'Date': 'Sun, 05 Jul 2020 17:33:41 GMT'}
2020-07-05 18:33:42,158:DEBUG:botocore.parsers:Response body:
b'<?xml version="1.0"?>\n<ListHostedZonesResponse xmlns="https://route53.amazonaws.com/doc/2013-04-01/"><HostedZones><HostedZone><Id>/hostedzone/Z036584749L3Y5TIJZSE</Id><Name>melbeied.net.</Name><CallerReference>D280B345-FED2-5355-961B-ADB70204EE06</CallerReference><Config><Comment></Comment><PrivateZone>false</PrivateZone></Config><ResourceRecordSetCount>3</ResourceRecordSetCount></HostedZone></HostedZones><IsTruncated>false</IsTruncated><MaxItems>100</MaxItems></ListHostedZonesResponse>'
2020-07-05 18:33:42,158:DEBUG:botocore.hooks:Event needs-retry.route-53.ListHostedZones: calling handler <botocore.retryhandler.RetryHandler object at 0x105daedd0>
2020-07-05 18:33:42,159:DEBUG:botocore.retryhandler:No retry needed.
2020-07-05 18:33:42,159:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ChangeResourceRecordSets: calling handler <function fix_route53_ids at 0x104fafb90>
2020-07-05 18:33:42,160:DEBUG:botocore.handlers:HostedZoneId /hostedzone/Z036584749L3Y5TIJZSE -> Z036584749L3Y5TIJZSE
2020-07-05 18:33:42,160:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ChangeResourceRecordSets: calling handler <function generate_idempotent_uuid at 0x104f93cb0>
2020-07-05 18:33:42,160:DEBUG:botocore.hooks:Event before-call.route-53.ChangeResourceRecordSets: calling handler <function inject_api_version_header_if_needed at 0x104fb0560>
2020-07-05 18:33:42,161:DEBUG:botocore.endpoint:Making request for OperationModel(name=ChangeResourceRecordSets) with params: {'url_path': '/2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/', 'query_string': {}, 'method': 'POST', 'headers': {'User-Agent': 'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16'}, 'body': b'<ChangeResourceRecordSetsRequest xmlns="https://route53.amazonaws.com/doc/2013-04-01/"><ChangeBatch><Comment>certbot-dns-route53 certificate validation DELETE</Comment><Changes><Change><Action>DELETE</Action><ResourceRecordSet><Name>_acme-challenge.melbeied.net</Name><Type>TXT</Type><TTL>10</TTL><ResourceRecords><ResourceRecord><Value>"9qKNvzHo4fzSaaQMMFEmb-m3CJ-RqcPR0th335SNfhk"</Value></ResourceRecord></ResourceRecords></ResourceRecordSet></Change></Changes></ChangeBatch></ChangeResourceRecordSetsRequest>', 'url': 'https://route53.amazonaws.com/2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x105daead0>, 'has_streaming_input': False, 'auth_type': None}}
2020-07-05 18:33:42,161:DEBUG:botocore.hooks:Event request-created.route-53.ChangeResourceRecordSets: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105daeb10>>
2020-07-05 18:33:42,161:DEBUG:botocore.hooks:Event choose-signer.route-53.ChangeResourceRecordSets: calling handler <function set_operation_specific_signer at 0x104f93b90>
2020-07-05 18:33:42,162:DEBUG:botocore.auth:Calculating signature using v4 auth.
2020-07-05 18:33:42,162:DEBUG:botocore.auth:CanonicalRequest:
POST
/2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/

host:route53.amazonaws.com
x-amz-date:20200705T173342Z

host;x-amz-date
c37f6b14a52aedaf274361c6b5fbd842c833d1c50698f9184d4f3cd80e9c68a3
2020-07-05 18:33:42,162:DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20200705T173342Z
20200705/us-east-1/route53/aws4_request
b4d87ae094e6d5b91af2eb1d4f9e6192c2e8e5e33bdc3a1180fe51ff0b8fc840
2020-07-05 18:33:42,162:DEBUG:botocore.auth:Signature:
e99f3818256dc0396667391101848d154fdba198525a614925be58e6229eeac4
2020-07-05 18:33:42,162:DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=POST, url=https://route53.amazonaws.com/2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/, headers={'User-Agent': b'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16', 'X-Amz-Date': b'20200705T173342Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAYXB27GE2KIJWW5S7/20200705/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-date, Signature=e99f3818256dc0396667391101848d154fdba198525a614925be58e6229eeac4', 'Content-Length': '512'}>
2020-07-05 18:33:42,481:DEBUG:urllib3.connectionpool:https://route53.amazonaws.com:443 "POST /2013-04-01/hostedzone/Z036584749L3Y5TIJZSE/rrset/ HTTP/1.1" 200 350
2020-07-05 18:33:42,481:DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': 'd0b6f469-64bc-49d7-9666-e05d51a7e9f8', 'Content-Type': 'text/xml', 'Content-Length': '350', 'Date': 'Sun, 05 Jul 2020 17:33:42 GMT'}
2020-07-05 18:33:42,482:DEBUG:botocore.parsers:Response body:
b'<?xml version="1.0"?>\n<ChangeResourceRecordSetsResponse xmlns="https://route53.amazonaws.com/doc/2013-04-01/"><ChangeInfo><Id>/change/C05651253SJ8XGX79QEK</Id><Status>PENDING</Status><SubmittedAt>2020-07-05T17:33:42.393Z</SubmittedAt><Comment>certbot-dns-route53 certificate validation DELETE</Comment></ChangeInfo></ChangeResourceRecordSetsResponse>'
2020-07-05 18:33:42,482:DEBUG:botocore.hooks:Event needs-retry.route-53.ChangeResourceRecordSets: calling handler <botocore.retryhandler.RetryHandler object at 0x105daedd0>
2020-07-05 18:33:42,483:DEBUG:botocore.retryhandler:No retry needed.
2020-07-05 18:33:42,485:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ListHostedZones: calling handler <function fix_route53_ids at 0x104fafb90>
2020-07-05 18:33:42,485:DEBUG:botocore.hooks:Event before-parameter-build.route-53.ListHostedZones: calling handler <function generate_idempotent_uuid at 0x104f93cb0>
2020-07-05 18:33:42,485:DEBUG:botocore.hooks:Event before-call.route-53.ListHostedZones: calling handler <function inject_api_version_header_if_needed at 0x104fb0560>
2020-07-05 18:33:42,485:DEBUG:botocore.endpoint:Making request for OperationModel(name=ListHostedZones) with params: {'url_path': '/2013-04-01/hostedzone', 'query_string': {}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16'}, 'body': b'', 'url': 'https://route53.amazonaws.com/2013-04-01/hostedzone', 'context': {'client_region': 'aws-global', 'client_config': <botocore.config.Config object at 0x105daead0>, 'has_streaming_input': False, 'auth_type': None}}
2020-07-05 18:33:42,485:DEBUG:botocore.hooks:Event request-created.route-53.ListHostedZones: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x105daeb10>>
2020-07-05 18:33:42,486:DEBUG:botocore.hooks:Event choose-signer.route-53.ListHostedZones: calling handler <function set_operation_specific_signer at 0x104f93b90>
2020-07-05 18:33:42,486:DEBUG:botocore.auth:Calculating signature using v4 auth.
2020-07-05 18:33:42,486:DEBUG:botocore.auth:CanonicalRequest:
GET
/2013-04-01/hostedzone

host:route53.amazonaws.com
x-amz-date:20200705T173342Z

host;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
2020-07-05 18:33:42,486:DEBUG:botocore.auth:StringToSign:
AWS4-HMAC-SHA256
20200705T173342Z
20200705/us-east-1/route53/aws4_request
0d3eaccd5536774baeade582a02c38563604284538d46e80c505a228f0af44e5
2020-07-05 18:33:42,486:DEBUG:botocore.auth:Signature:
14f6d54cb19cc1766846a48f98fd44ed8649cd802794b5662316323b17048143
2020-07-05 18:33:42,486:DEBUG:botocore.endpoint:Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=https://route53.amazonaws.com/2013-04-01/hostedzone, headers={'User-Agent': b'Boto3/1.14.16 Python/3.7.7 Darwin/18.7.0 Botocore/1.17.16', 'X-Amz-Date': b'20200705T173342Z', 'Authorization': b'AWS4-HMAC-SHA256 Credential=AKIAYXB27GE2KIJWW5S7/20200705/us-east-1/route53/aws4_request, SignedHeaders=host;x-amz-date, Signature=14f6d54cb19cc1766846a48f98fd44ed8649cd802794b5662316323b17048143'}>
2020-07-05 18:33:42,803:DEBUG:urllib3.connectionpool:https://route53.amazonaws.com:443 "GET /2013-04-01/hostedzone HTTP/1.1" 200 491
2020-07-05 18:33:42,803:DEBUG:botocore.parsers:Response headers: {'x-amzn-RequestId': '8098475f-a3ee-49ce-9b41-86e49352f4de', 'Content-Type': 'text/xml', 'Content-Length': '491', 'Date': 'Sun, 05 Jul 2020 17:33:42 GMT'}
2020-07-05 18:33:42,803:DEBUG:botocore.parsers:Response body:
b'<?xml version="1.0"?>\n<ListHostedZonesResponse xmlns="https://route53.amazonaws.com/doc/2013-04-01/"><HostedZones><HostedZone><Id>/hostedzone/Z036584749L3Y5TIJZSE</Id><Name>melbeied.net.</Name><CallerReference>D280B345-FED2-5355-961B-ADB70204EE06</CallerReference><Config><Comment></Comment><PrivateZone>false</PrivateZone></Config><ResourceRecordSetCount>2</ResourceRecordSetCount></HostedZone></HostedZones><IsTruncated>false</IsTruncated><MaxItems>100</MaxItems></ListHostedZonesResponse>'
2020-07-05 18:33:42,804:DEBUG:botocore.hooks:Event needs-retry.route-53.ListHostedZones: calling handler <botocore.retryhandler.RetryHandler object at 0x105daedd0>
2020-07-05 18:33:42,804:DEBUG:botocore.retryhandler:No retry needed.
2020-07-05 18:33:42,805:ERROR:certbot._internal.error_handler:Encountered exception during recovery: 
Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/auth_handler.py", line 70, in handle_authorizations
    resps = self.auth.perform(achalls)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 61, in perform
    for achall in achalls
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 61, in <listcomp>
    for achall in achalls
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 108, in _change_txt_record
    zone_id = self._find_zone_id_for_domain(validation_domain_name)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 97, in _find_zone_id_for_domain
    "Unable to find a Route53 hosted zone for {0}".format(domain)
certbot.errors.PluginError: Unable to find a Route53 hosted zone for _acme-challenge.example.com

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/error_handler.py", line 125, in _call_registered
    self.funcs[-1]()
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/auth_handler.py", line 243, in _cleanup_challenges
    self.auth.cleanup(achalls)
  File "/usr/local/lib/python3.7/site-packages/certbot/plugins/dns_common.py", line 76, in cleanup
    self._cleanup(domain, validation_domain_name, validation)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 73, in _cleanup
    self._change_txt_record("DELETE", validation_name, validation)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 108, in _change_txt_record
    zone_id = self._find_zone_id_for_domain(validation_domain_name)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 97, in _find_zone_id_for_domain
    "Unable to find a Route53 hosted zone for {0}".format(domain)
certbot.errors.PluginError: Unable to find a Route53 hosted zone for _acme-challenge.example.com
2020-07-05 18:33:42,809:DEBUG:certbot._internal.log:Exiting abnormally:
Traceback (most recent call last):
  File "/usr/local/bin/certbot", line 8, in <module>
    sys.exit(main())
  File "/usr/local/lib/python3.7/site-packages/certbot/main.py", line 15, in main
    return internal_main.main(cli_args)
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/main.py", line 1347, in main
    return config.func(config, plugins)
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/main.py", line 1233, in certonly
    lineage = _get_and_save_cert(le_client, config, domains, certname, lineage)
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/main.py", line 121, in _get_and_save_cert
    lineage = le_client.obtain_and_enroll_certificate(domains, certname)
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/client.py", line 409, in obtain_and_enroll_certificate
    cert, chain, key, _ = self.obtain_certificate(domains)
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/client.py", line 343, in obtain_certificate
    orderr = self._get_order_and_authorizations(csr.data, self.config.allow_subset_of_names)
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/client.py", line 390, in _get_order_and_authorizations
    authzr = self.auth_handler.handle_authorizations(orderr, best_effort)
  File "/usr/local/lib/python3.7/site-packages/certbot/_internal/auth_handler.py", line 70, in handle_authorizations
    resps = self.auth.perform(achalls)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 61, in perform
    for achall in achalls
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 61, in <listcomp>
    for achall in achalls
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 108, in _change_txt_record
    zone_id = self._find_zone_id_for_domain(validation_domain_name)
  File "/usr/local/lib/python3.7/site-packages/certbot_dns_route53/_internal/dns_route53.py", line 97, in _find_zone_id_for_domain
    "Unable to find a Route53 hosted zone for {0}".format(domain)
certbot.errors.PluginError: Unable to find a Route53 hosted zone for _acme-challenge.example.com
2020-07-05 18:33:42,812:ERROR:certbot._internal.log:Unable to find a Route53 hosted zone for _acme-challenge.example.com
